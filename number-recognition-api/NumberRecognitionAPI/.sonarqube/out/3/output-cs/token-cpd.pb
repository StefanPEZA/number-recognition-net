°
ìC:\Users\stefa\Documents\GitHub\fraud-detection-net\number-recognition-api\NumberRecognitionAPI\NumberRecognitionAPI\Controllers\ImageController.cs
	namespace 	 
NumberRecognitionAPI
 
. 
Controllers *
{		 
[

 
Route

 

(


 
$str

 
)

 
]

 
[ 
ApiController 
] 
public 

class 
ImageController  
:! "
ControllerBase# 1
{ 
[ 	
HttpPost	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
IActionResult 
PredictImage )
() *
	IFormFile* 3
file4 8
)8 9
{ 	
if 
( 
file 
== 
null 
) 
{ 
return 

BadRequest !
(! "
new" %
{& '
status( .
=/ 0
$str1 8
,8 9
message: A
=B C
$strD _
}` a
)a b
;b c
} 
if 
( 
file 
. 
Length 
> 
$num $
)$ %
{ 
return 

BadRequest !
(! "
new" %
{& '
status( .
=/ 0
$str1 8
,8 9
message 
= 
$str S
}T U
)U V
;V W
} 
byte 
[ 
] 
image 
= 
new 
byte #
[# $
file$ (
.( )
Length) /
]/ 0
;0 1
file 
. 
OpenReadStream 
(  
)  !
.! "
Read" &
(& '
image' ,
,, -
$num. /
,/ 0
(1 2
int2 5
)5 6
file6 :
.: ;
Length; A
)A B
;B C
return 
Ok 
( 
new 
{ 
status "
=# $
$str% )
,) *
image_length+ 7
=8 9
file: >
.> ?
Length? E
,E F
	file_name   %
=  & '
file  ( ,
.  , -
FileName  - 5
,  5 6
predicted_label!! +
=!!, -
$str!!. ;
}!!< =
)!!= >
;!!> ?
}"" 	
}$$ 
}%% ı

C:\Users\stefa\Documents\GitHub\fraud-detection-net\number-recognition-api\NumberRecognitionAPI\NumberRecognitionAPI\Program.cs
	namespace

 	 
NumberRecognitionAPI


 
{ 
public 

static 
class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} À
C:\Users\stefa\Documents\GitHub\fraud-detection-net\number-recognition-api\NumberRecognitionAPI\NumberRecognitionAPI\Startup.cs
	namespace 	 
NumberRecognitionAPI
 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{   	
services"" 
."" 
AddControllers"" #
(""# $
)""$ %
;""% &
services## 
.## 
AddSwaggerGen## "
(##" #
c### $
=>##% '
{$$ 
c%% 
.%% 

SwaggerDoc%% 
(%% 
$str%% !
,%%! "
new%%# &
OpenApiInfo%%' 2
{%%3 4
Title%%5 :
=%%; <
$str%%= S
,%%S T
Version%%U \
=%%] ^
$str%%_ c
}%%d e
)%%e f
;%%f g
}&& 
)&& 
;&& 
services'' 
.'' 
AddDbContext'' !
<''! " 
ApplicationDbContext''" 6
>''6 7
(''7 8
item''8 <
=>''= ?
item''@ D
.''D E
	UseSqlite''E N
(''N O
Configuration''O \
.''\ ]
GetConnectionString''] p
(''p q
$str''q }
)''} ~
)''~ 
)	'' Ä
;
''Ä Å
services(( 
.(( 
	AddScoped(( 
((( 
typeof(( %
(((% &
IRepository((& 1
<((1 2
>((2 3
)((3 4
,((4 5
typeof((6 <
(((< =

Repository((= G
<((G H
>((H I
)((I J
)((J K
;((K L
services)) 
.)) 
AddTransient)) !
<))! "
IDatasetService))" 1
,))1 2
DatasetService))3 A
>))A B
())B C
)))C D
;))D E
}** 	
public-- 
void-- 
	Configure-- 
(-- 
IApplicationBuilder-- 1
app--2 5
,--5 6
IWebHostEnvironment--7 J
env--K N
)--N O
{.. 	
if// 
(// 
env// 
.// 
IsDevelopment// !
(//! "
)//" #
)//# $
{00 
app11 
.11 %
UseDeveloperExceptionPage11 -
(11- .
)11. /
;11/ 0
app22 
.22 

UseSwagger22 
(22 
)22  
;22  !
app33 
.33 
UseSwaggerUI33  
(33  !
c33! "
=>33# %
c33& '
.33' (
SwaggerEndpoint33( 7
(337 8
$str338 R
,33R S
$str33T m
)33m n
)33n o
;33o p
}44 
app66 
.66 
UseHttpsRedirection66 #
(66# $
)66$ %
;66% &
app88 
.88 

UseRouting88 
(88 
)88 
;88 
app:: 
.:: 
UseAuthorization::  
(::  !
)::! "
;::" #
app<< 
.<< 
UseEndpoints<< 
(<< 
	endpoints<< &
=><<' )
{== 
	endpoints>> 
.>> 
MapControllers>> (
(>>( )
)>>) *
;>>* +
}?? 
)?? 
;?? 
}@@ 	
}AA 
}BB 