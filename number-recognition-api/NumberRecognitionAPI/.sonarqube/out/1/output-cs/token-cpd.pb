Ò
‚C:\Users\stefa\Documents\GitHub\fraud-detection-net\number-recognition-api\NumberRecognitionAPI\Repository\ApplicationDbContext.cs
	namespace 	

Repository
 
{		 
public

 

class

  
ApplicationDbContext

 %
:

% &
	DbContext

' 0
{ 
public  
ApplicationDbContext #
(# $
DbContextOptions$ 4
options5 <
)< =
:= >
base? C
(C D
optionsD K
)K L
{ 	
} 	
} 
} ·

„C:\Users\stefa\Documents\GitHub\fraud-detection-net\number-recognition-api\NumberRecognitionAPI\Repository\Repository\IRepository.cs
	namespace 	

Repository
 
. 

Repository 
{		 
public

 

	interface

 
IRepository

  
<

  !
T

! "
>

" #
where

$ )
T

* +
:

+ ,

BaseEntity

, 6
{ 
Task 
< 
IEnumerable 
< 
T 
> 
> 
GetAllAsync (
(( )
Func) -
<- .
T. /
,/ 0
bool1 5
>5 6
filter7 =
=> ?
null@ D
)D E
;E F
Task 
< 
T 
> 
GetByIdAsync 
( 
Guid !
id" $
)$ %
;% &
void 
InsertAsync 
( 
T 
entity !
)! "
;" #
void 
UpdateAsync 
( 
T 
entity !
)! "
;" #
void 
DeleteAsync 
( 
T 
entity !
)! "
;" #
} 
} ð&
ƒC:\Users\stefa\Documents\GitHub\fraud-detection-net\number-recognition-api\NumberRecognitionAPI\Repository\Repository\Repository.cs
	namespace		 	

Repository		
 
.		 

Repository		 
{

 
public 

class 

Repository 
< 
T 
> 
:  
IRepository! ,
<, -
T- .
>. /
where0 5
T6 7
:8 9

BaseEntity: D
{ 
private 
readonly  
ApplicationDbContext -!
_applicationDbContext. C
;C D
private 
readonly 
DbSet 
< 
T  
>  !
entities" *
;* +
public 

Repository 
(  
ApplicationDbContext . 
applicationDbContext/ C
)C D
{ 	!
_applicationDbContext !
=" # 
applicationDbContext$ 8
;8 9
entities 
= !
_applicationDbContext ,
., -
Set- 0
<0 1
T1 2
>2 3
(3 4
)4 5
;5 6
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
T& '
>' (
>( )
GetAllAsync* 5
(5 6
Func6 :
<: ;
T; <
,< =
bool> B
>B C
filterD J
=K L
nullM Q
)Q R
{ 	
if 
( 
filter 
== 
null 
) 
{ 
filter 
= 
x 
=> 
true "
;" #
} 
return 
await 
Task 
. 
Run !
(! "
entities" *
.* +
Where+ 0
<0 1
T1 2
>2 3
(3 4
filter4 :
): ;
.; <
ToList< B
)B C
;C D
} 	
public 
async 
Task 
< 
T 
> 
GetByIdAsync )
() *
Guid* .
id/ 1
)1 2
{   	
return!! 
await!! 
entities!! !
.!!! " 
SingleOrDefaultAsync!!" 6
(!!6 7
x!!7 8
=>!!9 ;
x!!< =
.!!= >
Id!!> @
==!!A C
id!!D F
)!!F G
;!!G H
}"" 	
public$$ 
async$$ 
void$$ 
InsertAsync$$ %
($$% &
T$$& '
entity$$( .
)$$. /
{%% 	
if&& 
(&& 
entity&& 
==&& 
null&& 
)&& 
{'' 
throw(( 
new(( !
ArgumentNullException(( /
(((/ 0
nameof((0 6
(((6 7
entity((7 =
)((= >
)((> ?
;((? @
})) 
entities** 
.** 
Add** 
(** 
entity** 
)**  
;**  !
await++ !
_applicationDbContext++ '
.++' (
SaveChangesAsync++( 8
(++8 9
)++9 :
;++: ;
},, 	
public.. 
async.. 
void.. 
UpdateAsync.. %
(..% &
T..& '
entity..( .
)... /
{// 	
if00 
(00 
entity00 
==00 
null00 
)00 
{11 
throw22 
new22 !
ArgumentNullException22 /
(22/ 0
nameof220 6
(226 7
entity227 =
)22= >
)22> ?
;22? @
}33 
entities44 
.44 
Update44 
(44 
entity44 "
)44" #
;44# $
await55 !
_applicationDbContext55 '
.55' (
SaveChangesAsync55( 8
(558 9
)559 :
;55: ;
}66 	
public88 
async88 
void88 
DeleteAsync88 %
(88% &
T88& '
entity88( .
)88. /
{99 	
if:: 
(:: 
entity:: 
==:: 
null:: 
):: 
{;; 
throw<< 
new<< !
ArgumentNullException<< /
(<</ 0
nameof<<0 6
(<<6 7
entity<<7 =
)<<= >
)<<> ?
;<<? @
}== 
entities>> 
.>> 
Remove>> 
(>> 
entity>> "
)>>" #
;>># $
await?? !
_applicationDbContext?? '
.??' (
SaveChangesAsync??( 8
(??8 9
)??9 :
;??: ;
}@@ 	
}AA 
}BB 