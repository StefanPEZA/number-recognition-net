Å
hD:\number-recognition-net\number-recognition-api\NumberRecognitionAPI\Repository\ApplicationDbContext.cs
	namespace		 	

Repository		
 
{

 
public 

class  
ApplicationDbContext %
:% &
	DbContext' 0
{ 
public  
ApplicationDbContext #
(# $
DbContextOptions$ 4
options5 <
)< =
:> ?
base@ D
(D E
optionsE L
)L M
{ 	
} 	
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
modelBuilder 
. 
ApplyConfiguration +
(+ ,
new, /

DatasetMap0 :
(: ;
); <
)< =
;= >
base 
. 
OnModelCreating  
(  !
modelBuilder! -
)- .
;. /
} 	
} 
} ‹
‚D:\number-recognition-net\number-recognition-api\NumberRecognitionAPI\Repository\Migrations\20211206111500_create_dataset_table.cs
	namespace 	

Repository
 
. 

Migrations 
{ 
public 

partial 
class  
create_dataset_table -
:. /
	Migration0 9
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{		 	
migrationBuilder

 
.

 
CreateTable

 (
(

( )
name 
: 
$str 
,  
columns 
: 
table 
=> !
new" %
{ 
id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 D
,D E
nullableF N
:N O
falseP U
)U V
,V W
label 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 =
,= >
nullable? G
:G H
trueI M
)M N
,N O
image 
= 
table !
.! "
Column" (
<( )
byte) -
[- .
]. /
>/ 0
(0 1
type1 5
:5 6
$str7 =
,= >
nullable? G
:G H
trueI M
)M N
,N O
is_test 
= 
table #
.# $
Column$ *
<* +
bool+ /
>/ 0
(0 1
type1 5
:5 6
$str7 <
,< =
nullable> F
:F G
falseH M
)M N
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 3
,3 4
x5 6
=>7 9
x: ;
.; <
id< >
)> ?
;? @
} 
) 
; 
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
	DropTable &
(& '
name 
: 
$str 
)  
;  !
} 	
} 
} ñ
~D:\number-recognition-net\number-recognition-api\NumberRecognitionAPI\Repository\Migrations\20211206111821_is_test_nullable.cs
	namespace 	

Repository
 
. 

Migrations 
{ 
public 

partial 
class 
is_test_nullable )
:* +
	Migration, 5
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
AlterColumn		 (
<		( )
bool		) -
>		- .
(		. /
name

 
:

 
$str

 
,

  
table 
: 
$str  
,  !
type 
: 
$str 
, 
nullable 
: 
true 
, 

oldClrType 
: 
typeof "
(" #
bool# '
)' (
,( )
oldType 
: 
$str 
) 
;  
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
bool) -
>- .
(. /
name 
: 
$str 
,  
table 
: 
$str  
,  !
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
false #
,# $

oldClrType 
: 
typeof "
(" #
bool# '
)' (
,( )
oldType 
: 
$str 
, 
oldNullable 
: 
true !
)! "
;" #
} 	
} 
} ð

jD:\number-recognition-net\number-recognition-api\NumberRecognitionAPI\Repository\Repository\IRepository.cs
	namespace 	

Repository
 
. 

Repository 
{ 
public 

	interface 
IRepository  
<  !
T! "
>" #
where$ )
T* +
:+ ,

BaseEntity, 6
{		 
Task

 
<

 
IEnumerable

 
<

 
T

 
>

 
>

 
GetAllAsync

 (
(

( )
int

) ,
limit

- 2
=

3 4
$num

5 7
,

7 8
Func

9 =
<

= >
T

> ?
,

? @
bool

A E
>

E F
filter

G M
=

N O
null

P T
)

T U
;

U V
Task 
< 
T 
> 
GetByIdAsync 
( 
Guid !
id" $
)$ %
;% &
Task 
InsertAsync 
( 
T 
entity !
)! "
;" #
Task 
UpdateAsync 
( 
T 
entity !
)! "
;" #
Task 
DeleteAsync 
( 
T 
entity !
)! "
;" #
} 
} œ%
iD:\number-recognition-net\number-recognition-api\NumberRecognitionAPI\Repository\Repository\Repository.cs
	namespace 	

Repository
 
. 

Repository 
{		 
public

 

class

 

Repository

 
<

 
T

 
>

 
:

  
IRepository

! ,
<

, -
T

- .
>

. /
where

0 5
T

6 7
:

8 9

BaseEntity

: D
{ 
private 
readonly  
ApplicationDbContext -!
_applicationDbContext. C
;C D
private 
readonly 
DbSet 
< 
T  
>  !
entities" *
;* +
public 

Repository 
(  
ApplicationDbContext . 
applicationDbContext/ C
)C D
{ 	!
_applicationDbContext !
=" # 
applicationDbContext$ 8
;8 9
entities 
= !
_applicationDbContext ,
., -
Set- 0
<0 1
T1 2
>2 3
(3 4
)4 5
;5 6
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
T& '
>' (
>( )
GetAllAsync* 5
(5 6
int6 9
limit: ?
=@ A
$numB D
,D E
FuncF J
<J K
TK L
,L M
boolN R
>R S
filterT Z
=[ \
null] a
)a b
{ 	
return 
await 
Task 
. 
Run !
(! "
entities" *
.* +
Where+ 0
<0 1
T1 2
>2 3
(3 4
filter4 :
): ;
.; <
Take< @
<@ A
TA B
>B C
(C D
limitD I
)I J
.J K
ToListK Q
)Q R
;R S
} 	
public 
async 
Task 
< 
T 
> 
GetByIdAsync )
() *
Guid* .
id/ 1
)1 2
{ 	
return 
await 
entities !
.! " 
SingleOrDefaultAsync" 6
(6 7
x7 8
=>9 ;
x< =
.= >
Id> @
==A C
idD F
)F G
;G H
} 	
private 
static 
void 
parameter_check +
(+ ,
T, -
entity. 4
)4 5
{   	
if!! 
(!! 
entity!! 
==!! 
null!! 
)!! 
{"" 
throw## 
new## !
ArgumentNullException## /
(##/ 0
nameof##0 6
(##6 7
entity##7 =
)##= >
)##> ?
;##? @
}$$ 
}%% 	
public&& 
async&& 
Task&& 
InsertAsync&& %
(&&% &
T&&& '
entity&&( .
)&&. /
{'' 	
parameter_check(( 
((( 
entity(( "
)((" #
;((# $
entities)) 
.)) 
Add)) 
()) 
entity)) 
)))  
;))  !
await** !
_applicationDbContext** '
.**' (
SaveChangesAsync**( 8
(**8 9
)**9 :
;**: ;
}++ 	
public-- 
async-- 
Task-- 
UpdateAsync-- %
(--% &
T--& '
entity--( .
)--. /
{.. 	
parameter_check// 
(// 
entity// "
)//" #
;//# $
entities00 
.00 
Update00 
(00 
entity00 "
)00" #
;00# $
await11 !
_applicationDbContext11 '
.11' (
SaveChangesAsync11( 8
(118 9
)119 :
;11: ;
}22 	
public44 
async44 
Task44 
DeleteAsync44 %
(44% &
T44& '
entity44( .
)44. /
{55 	
parameter_check66 
(66 
entity66 "
)66" #
;66# $
entities77 
.77 
Remove77 
(77 
entity77 "
)77" #
;77# $
await88 !
_applicationDbContext88 '
.88' (
SaveChangesAsync88( 8
(888 9
)889 :
;88: ;
}99 	
}:: 
};; 